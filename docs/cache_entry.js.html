<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: cache/entry.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: cache/entry.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Class representing a cache entry
 * @param {}
 */

class Entry{
    /**
     * 
     * @param {string} key The key for the entry, up to 250 characters  
     * @param {number} flags A number between 0 and 65535
     * @param {number} exptime Expiration time in unix time stamp
     * @param {number} bytes Byte size of the data
     * @param {number} cas  64-bit integer unique for this entry 
     * @param {Object&lt;Buffer>} data Data asociated for this entry
     */
    constructor(key, flags, exptime, bytes, cas, data){
        this.key       = key;
        this.flags     = flags;
        this.exptime   = 0;
        this.setExptime(exptime);
        this.bytes     = bytes;
        this.cas       = cas;
        this.data      = data;
    }

    /**
     * @returns {string} The key for the entry
     */
    getKey(){
        return this.key;
    }

    /**
     * @returns {number} The flags for the entry
     */
    getFlags(){
        return this.flags;
    }

    /**
     * @returns {number} The exptime for the entry
     */
    getExptime(){
        return this.exptime;
    }

    /**
     * @returns {number} The byte length for the entry
     */
    getBytes(){
        return this.bytes;
    }

    /**
     * @returns {number} The unique cas for the entry
     */
    getCas(){
        return this.cas;
    }
    
    /**
     * @returns {Buffer} The data for the entry
     */
    getData(){
        return this.data;
    }

    /**
     * Checks if the given exptime is a unix timestamp.If it's not, 
     * creates a new timestamp adding the given exptime
     * @param {number} exptime a number representing the exptime
     * @returns {number} The new exptime
     */
    setExptime(exptime){
        if(exptime &lt;= (60*60*24*30)){
            this.exptime = Math.floor(new Date() / 1000) + exptime;
        }
        else{
            this.exptime = exptime;
        }
    }

}

module.exports = {
    Entry
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Cache.html">Cache</a></li><li><a href="Entry.html">Entry</a></li></ul><h3>Global</h3><ul><li><a href="global.html#add">add</a></li><li><a href="global.html#answer">answer</a></li><li><a href="global.html#append">append</a></li><li><a href="global.html#cas">cas</a></li><li><a href="global.html#checkExpired">checkExpired</a></li><li><a href="global.html#currentCache">currentCache</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#gets">gets</a></li><li><a href="global.html#getSettedArgsRetrieval">getSettedArgsRetrieval</a></li><li><a href="global.html#getSettedArgsStorage">getSettedArgsStorage</a></li><li><a href="global.html#getStorageCache">getStorageCache</a></li><li><a href="global.html#handleData">handleData</a></li><li><a href="global.html#notStoredResult">notStoredResult</a></li><li><a href="global.html#preppend">preppend</a></li><li><a href="global.html#readOptions">readOptions</a></li><li><a href="global.html#replace">replace</a></li><li><a href="global.html#result">result</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#startServer">startServer</a></li><li><a href="global.html#validateArgs">validateArgs</a></li><li><a href="global.html#valueMessage">valueMessage</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Sat Feb 29 2020 13:07:29 GMT-0500 (hora est√°ndar de Colombia)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
